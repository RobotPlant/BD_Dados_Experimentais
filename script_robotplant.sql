-- MySQL Script generated by MySQL Workbench
-- Fri Sep 29 15:22:34 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema RobotPlant
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema RobotPlant
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `RobotPlant` DEFAULT CHARACTER SET utf8 ;
USE `RobotPlant` ;

-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_plantacao`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_plantacao` (
  `id_plantacao` INT NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id_plantacao`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_Planta`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_Planta` (
  `id_Planta` INT NOT NULL AUTO_INCREMENT,
  `tipo_amostra` VARCHAR(45) NOT NULL,
  `dt_plantacao` DATETIME NOT NULL,
  `plantacao_id_plantacao` INT NOT NULL,
  PRIMARY KEY (`id_Planta`),
  INDEX `fk_tb_Planta_tb_plantacao_idx` (`plantacao_id_plantacao` ASC),
  CONSTRAINT `fk_tb_Planta_tb_plantacao`
    FOREIGN KEY (`plantacao_id_plantacao`)
    REFERENCES `RobotPlant`.`tb_plantacao` (`id_plantacao`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_temperatura`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_temperatura` (
  `id_temperatura` INT NOT NULL AUTO_INCREMENT,
  `temperatura` DOUBLE NOT NULL,
  `hora_amostra` DATETIME NOT NULL,
  PRIMARY KEY (`id_temperatura`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_umidade_solo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_umidade_solo` (
  `id_umidade_solo` INT NOT NULL AUTO_INCREMENT,
  `umidade` DOUBLE NOT NULL,
  `hora_amostra` DATETIME NOT NULL,
  PRIMARY KEY (`id_umidade_solo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_umidade_ar`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_umidade_ar` (
  `id_umidade_ar` INT NOT NULL AUTO_INCREMENT,
  `umidade` DOUBLE NOT NULL,
  `hora_amostra` DATETIME NOT NULL,
  PRIMARY KEY (`id_umidade_ar`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`media_dia`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`media_dia` (
  `idmedia_dia` INT NOT NULL,
  PRIMARY KEY (`idmedia_dia`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`atividade`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`atividade` (
  `idatividade` INT NOT NULL,
  PRIMARY KEY (`idatividade`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_consumo_diario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_consumo_diario` (
  `id_consumo_diario` INT NOT NULL AUTO_INCREMENT,
  `qt_agua` DOUBLE NOT NULL,
  `qt_energia` DOUBLE NOT NULL,
  `qt_luminosidade` DOUBLE NOT NULL,
  PRIMARY KEY (`id_consumo_diario`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_energia_armazenada`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_energia_armazenada` (
  `id_energia_armazenada` INT NOT NULL AUTO_INCREMENT,
  `qt_energia` DOUBLE NOT NULL,
  PRIMARY KEY (`id_energia_armazenada`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_health`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_health` (
  `id_health` INT NOT NULL,
  PRIMARY KEY (`id_health`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_planta_Temperatura`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_planta_Temperatura` (
  `temperatura_id_temperatura` INT NOT NULL,
  `Planta_id_Planta` INT NOT NULL,
  PRIMARY KEY (`temperatura_id_temperatura`, `Planta_id_Planta`),
  INDEX `fk_tb_temperatura_has_tb_Planta_tb_Planta1_idx` (`Planta_id_Planta` ASC),
  INDEX `fk_tb_temperatura_has_tb_Planta_tb_temperatura1_idx` (`temperatura_id_temperatura` ASC),
  CONSTRAINT `fk_tb_temperatura_has_tb_Planta_tb_temperatura1`
    FOREIGN KEY (`temperatura_id_temperatura`)
    REFERENCES `RobotPlant`.`tb_temperatura` (`id_temperatura`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_temperatura_has_tb_Planta_tb_Planta1`
    FOREIGN KEY (`Planta_id_Planta`)
    REFERENCES `RobotPlant`.`tb_Planta` (`id_Planta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_planta_umidadeSolo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_planta_umidadeSolo` (
  `umidade_solo_id_umidade_solo` INT NOT NULL,
  `Planta_id_Planta` INT NOT NULL,
  PRIMARY KEY (`umidade_solo_id_umidade_solo`, `Planta_id_Planta`),
  INDEX `fk_tb_umidade_solo_has_tb_Planta_tb_Planta1_idx` (`Planta_id_Planta` ASC),
  INDEX `fk_tb_umidade_solo_has_tb_Planta_tb_umidade_solo1_idx` (`umidade_solo_id_umidade_solo` ASC),
  CONSTRAINT `fk_tb_umidade_solo_has_tb_Planta_tb_umidade_solo1`
    FOREIGN KEY (`umidade_solo_id_umidade_solo`)
    REFERENCES `RobotPlant`.`tb_umidade_solo` (`id_umidade_solo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_umidade_solo_has_tb_Planta_tb_Planta1`
    FOREIGN KEY (`Planta_id_Planta`)
    REFERENCES `RobotPlant`.`tb_Planta` (`id_Planta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `RobotPlant`.`tb_planta_umidadeAr`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `RobotPlant`.`tb_planta_umidadeAr` (
  `umidade_ar_id_umidade_ar` INT NOT NULL,
  `Planta_id_Planta` INT NOT NULL,
  PRIMARY KEY (`umidade_ar_id_umidade_ar`, `Planta_id_Planta`),
  INDEX `fk_tb_umidade_ar_has_tb_Planta_tb_Planta1_idx` (`Planta_id_Planta` ASC),
  INDEX `fk_tb_umidade_ar_has_tb_Planta_tb_umidade_ar1_idx` (`umidade_ar_id_umidade_ar` ASC),
  CONSTRAINT `fk_tb_umidade_ar_has_tb_Planta_tb_umidade_ar1`
    FOREIGN KEY (`umidade_ar_id_umidade_ar`)
    REFERENCES `RobotPlant`.`tb_umidade_ar` (`id_umidade_ar`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_umidade_ar_has_tb_Planta_tb_Planta1`
    FOREIGN KEY (`Planta_id_Planta`)
    REFERENCES `RobotPlant`.`tb_Planta` (`id_Planta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
